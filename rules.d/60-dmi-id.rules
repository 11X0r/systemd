# do not edit this file, it will be overwritten on update

ACTION=="remove", GOTO="dmi_end"
SUBSYSTEM!="dmi", GOTO="dmi_end"

ENV{ID_SYS_VENDOR_IS_RUBBISH}!="1", ENV{ID_VENDOR}="$attr{sys_vendor}"
ENV{ID_SYSFS_ATTRIBUTE_MODEL}=="", ENV{ID_PRODUCT_NAME_IS_RUBBISH}!="1", ENV{ID_MODEL}="$attr{product_name}"
ENV{ID_SYSFS_ATTRIBUTE_MODEL}=="product_name", ENV{ID_MODEL}="$attr{product_name}"
ENV{ID_SYSFS_ATTRIBUTE_MODEL}=="product_version", ENV{ID_MODEL}="$attr{product_version}"
# fallback to board information
ENV{ID_VENDOR}=="", ENV{ID_VENDOR}="$attr{board_vendor}"
ENV{ID_MODEL}=="", ENV{ID_MODEL}="$attr{board_name}"

# chassis asset tag
ENV{MODALIAS}!="", ATTR{chassis_asset_tag}!="", IMPORT{builtin}="hwdb '$attr{modalias}cat$attr{chassis_asset_tag}:'"
ENV{ID_CHASSIS_ASSET_TAG_IS_RUBBISH}!="1", ENV{ID_CHASSIS_ASSET_TAG}="$attr{chassis_asset_tag}"

# sku
ENV{MODALIAS}!="", ATTR{product_sku}!="", IMPORT{builtin}="hwdb '$attr{modalias}psku$attr{product_sku}:'"
ENV{ID_PRODUCT_SKU_IS_RUBBISH}!="1", ENV{ID_SKU}="$attr{product_sku}"

# version
ENV{MODALIAS}!="", ATTR{product_version}!="", IMPORT{builtin}="hwdb '$attr{modalias}pv$attr{product_version}:'"
ENV{ID_PRODUCT_VERSION_IS_RUBBISH}!="1", ENV{ID_VERSION}="$attr{product_version}"
ENV{ID_VERSION}=="", ENV{MODALIAS}!="", ATTR{board_version}!="", IMPORT{builtin}="hwdb '$attr{modalias}bv$attr{board_version}:'"
ENV{ID_VERSION}=="", ENV{ID_BOARD_VERSION_IS_RUBBISH}!="1", ENV{ID_VERSION}="$attr{board_version}"

LABEL="dmi_end"
